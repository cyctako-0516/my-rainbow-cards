<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éš¨æ©Ÿå½©è™¹å¡æ—¥èªŒ ğŸŒˆ</title>
    <style>
        body { font-family: "PingFang TC", "Microsoft JhengHei", sans-serif; background: #f0f2f5; display: flex; flex-direction: column; align-items: center; padding: 20px; color: #333; }
        .card-display { width: 100%; max-width: 400px; height: 280px; border-radius: 25px; display: flex; align-items: center; justify-content: center; text-align: center; padding: 30px; margin: 20px 0; font-size: 22px; font-weight: bold; color: white; transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; box-shadow: 0 15px 35px rgba(0,0,0,0.15); box-sizing: border-box; }
        .draw-btn { padding: 15px 50px; border: none; border-radius: 50px; background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; font-size: 18px; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .draw-btn:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.3); }
        
        .history-section { width: 100%; max-width: 500px; margin-top: 40px; }
        .history-item { background: white; padding: 15px; border-radius: 15px; margin-bottom: 12px; display: flex; align-items: center; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .color-dot { width: 15px; height: 15px; border-radius: 50%; margin-right: 15px; flex-shrink: 0; }
        .history-content { flex: 1; font-size: 15px; }
        .history-date { font-size: 11px; color: #999; margin-left: 10px; }
    </style>
</head>
<body>

    <h2>ğŸŒˆ éš¨æ©Ÿå½©è™¹å¡æŒ‡å¼•</h2>
    <p style="color: #666;">æ”¾ä¸‹æ‰€æœ‰é è¨­ï¼Œè®“ç•¶ä¸‹çš„èƒ½é‡æŒ‡å¼•ä½ ã€‚</p>

    <div id="main-card" class="card-display" style="background: #ccc; color: #eee;">
        æ·±å‘¼å¸...<br>æº–å‚™å¥½å°±æŒ‰ä¸‹æ–¹æŒ‰éˆ•
    </div>

    <button class="draw-btn" onclick="drawCard()">éš¨æ©ŸæŠ½ä¸€å¼µ</button>

    <div class="history-section">
        <h3>ğŸ“… æŠ½å–ç´€éŒ„</h3>
        <div id="history-list"></div>
    </div>

<script>
    // è±å¯Œçš„èªéŒ„åº«ï¼Œä¸åˆ†é¡è‰²
    const quotes = [
        "æˆ‘é¡˜æ„æ”¾ä¸‹éå»ï¼Œå……æ»¿ä¿¡å¿ƒåœ°é‚å‘æœªä¾†ã€‚",
        "æˆ‘å€¼å¾—æ“æœ‰å¿«æ¨‚ã€è±å¯Œä¸”å……æ»¿å‰µé€ åŠ›çš„ç”Ÿæ´»ã€‚",
        "æˆ‘æœ‰å‹‡æ°£è¡¨é”è‡ªå·±çš„çœŸç›¸ï¼Œä¸¦å°Šé‡ä»–äººçš„æ¬Šåˆ©ã€‚",
        "æˆ‘é–‹å•Ÿæˆ‘çš„å¿ƒï¼Œå»æ„›äººä¸¦æ¥å—æ„›ã€‚",
        "æˆ‘å¹³éœä¸”æ¸…æ™°åœ°è¡¨é”æˆ‘çš„æƒ³æ³•èˆ‡æ„Ÿå—ã€‚",
        "æˆ‘ä¿¡ä»»æˆ‘çš„ç›´è¦ºï¼Œæˆ‘èƒ½çœ‹æ¸…ç”Ÿå‘½çš„çœŸç›¸ã€‚",
        "æˆ‘èˆ‡å®‡å®™çš„æ™ºæ…§é€£çµï¼Œå…§å¿ƒæ„Ÿåˆ°å¹³éœå®‰è©³ã€‚",
        "æˆ‘ç”±è¡·åœ°æ„Ÿæ¿€ç”Ÿå‘½ä¸­æ‰€æœ‰ç¾å¥½çš„äº‹ç‰©ã€‚",
        "æˆ‘æ¥å—æˆ‘ç¾åœ¨çš„æ¨£å­ï¼Œæˆ‘æ„›æˆ‘è‡ªå·±ã€‚",
        "æˆ‘å……æ»¿æ´»åŠ›ï¼Œæˆ‘èƒ½å¯¦ç¾æˆ‘çš„å¤¢æƒ³ã€‚",
        "æˆ‘èº«é‚Šå……æ»¿äº†æ”¯æŒæˆ‘ã€æ„›æˆ‘çš„äººã€‚",
        "æˆ‘èƒ½åœ¨ä»»ä½•æƒ…æ³ä¸‹æ‰¾åˆ°å¹³éœã€‚",
        "æˆ‘é‡‹æ”¾ææ‡¼ï¼Œé¸æ“‡ç”¨æ„›çœ‹å¾…é€™ä¸–ç•Œã€‚",
        "æˆ‘æ˜¯ä¸€å€‹ç¨ç‰¹ä¸”ç¾éº—çš„å­˜åœ¨ã€‚",
        "æˆ‘çš„ç”Ÿå‘½å……æ»¿äº†ç„¡é™çš„å¯èƒ½æ€§ã€‚",
        "æˆ‘æº«æŸ”åœ°å°å¾…è‡ªå·±èˆ‡ä»–äººã€‚",
        "æˆ‘å¸å¼•æˆåŠŸçš„èƒ½é‡ä¾†åˆ°æˆ‘èº«é‚Šã€‚",
        "æˆ‘æ˜¯æˆ‘ç”Ÿå‘½çš„ä¸»äººï¼Œæˆ‘æ“æœ‰é¸æ“‡çš„æ¬ŠåŠ›ã€‚",
        "æ¯ä¸€å¤©éƒ½æ˜¯ä¸€å€‹å…¨æ–°çš„é–‹å§‹ã€‚",
        "æˆ‘çš„å…§å¿ƒå……æ»¿é™½å…‰ï¼Œæˆ‘èƒ½ç…§äº®ä»–äººã€‚",
        "æˆ‘æ”¾ä¸‹æ“”æ†‚ï¼Œè‡£æœæ–¼ç”Ÿå‘½çš„æµå‹•ã€‚"
    ];

    const colors = ["#FF4757", "#FFA502", "#E8D01E", "#2ED573", "#1E90FF", "#3742FA", "#A55EEA", "#FD79A8", "#00CEC9"];

    let history = JSON.parse(localStorage.getItem('random_rainbow_history')) || [];

    function drawCard() {
        const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
        const randomColor = colors[Math.floor(Math.random() * colors.length)];
        const now = new Date();
        const dateStr = `${now.getMonth()+1}/${now.getDate()} ${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;

        // æ›´æ–° UI æ•ˆæœ
        const mainCard = document.getElementById('main-card');
        mainCard.style.transform = "rotateY(360deg)";
        setTimeout(() => {
            mainCard.style.background = randomColor;
            mainCard.style.color = "white";
            mainCard.innerText = randomQuote;
            mainCard.style.transform = "rotateY(0deg)";
        }, 150);

        // å„²å­˜ç´€éŒ„
        const record = { text: randomQuote, color: randomColor, date: dateStr };
        history.unshift(record);
        if(history.length > 50) history.pop();
        
        localStorage.setItem('random_rainbow_history', JSON.stringify(history));
        
        setTimeout(renderHistory, 300);
        speak(randomQuote);
    }

    function renderHistory() {
        const list = document.getElementById('history-list');
        list.innerHTML = '';
        
        history.forEach(item => {
            const div = document.createElement('div');
            div.className = 'history-item';
            div.innerHTML = `
                <div class="color-dot" style="background: ${item.color}"></div>
                <div class="history-content">${item.text}</div>
                <div class="history-date">${item.date}</div>
            `;
            list.appendChild(div);
        });
    }

    function speak(text) {
        const synth = window.speechSynthesis;
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'zh-TW';
        utter.rate = 0.85;
        synth.speak(utter);
    }

    renderHistory();
</script>

</body>
</html>